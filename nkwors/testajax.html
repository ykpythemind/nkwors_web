<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>test</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width">

    <script>

    </script>

</head>
<!-- body start -->
<body>




  <form id="form" name="form">
     <span id="error" style="color:red"></span>
    <table>
    <tr>
      <th>お名前</th>
      <td>
        <input name="name" type="text" id="name" size="20">
      </td>
    </tr>
    <tr>
      <th>メールアドレス</th>
      <td>
        <input name="mail" type="text" id="email" size="35">
      </td>
    </tr>
    <tr>
      <th>内容</th>
      <td>
        <input name="message" type="text" id="str" size="35">
      </td>
    </tr>
    <tr>
      <th>&nbsp;</th>
      <td>
        <input type="button" name="button" id="button" value="メールを送信する">
      </td>
    </tr>
    <tr>
      <th>&nbsp;</th>
      <td>
        <input type="hidden" name="test" value="" id="formtest" />
      </td>
    </tr>
    </table>
  </form>


<!-- body end -->
<script src="jquery-1.11.2.min.js"></script>
<script>
$(function(){
  $("#formtest").val("ykpythemind");
});

   $(document).on('click','#button',function(e){ // クリックで実行 2014-07-24 修正

    //  if( $("#name").val() && $("#email").val() && $("#str").val() ){
     // 空白かチェック
      //アドレス形式をチェック
        // if(!$("#email").val().match("^[0-9A-Za-z._\-]+@[0-9A-Za-z.\-]+$")){
        //    $('#error').html('メールアドレス形式で記入して下さい');
      //      return false;
        // }
         var data = $("#form").serialize(); //送信されたデータ
        $('#form').html('load'); //ローディング画像を表示
         $.ajax({
            type: "POST",
            url: "mailsend.php", //PHPを呼び出す
            data: data, //記入されたデータを渡す
            success: function(xml){
               $('#form').html('メールを送信しました');
            },
    			error: function() {
        		$('#form').html('error');
    				}
         });
      //} else {
      //   $('#error').html('未記入の項目が有ります');
      //}
   });

</script>
</body>
</html>
